<div class="unigrid--row">
  <div class="brick brick--12">
    <h1>trainings</h1>
  </div>
  <div class="brick brick--12 align--right">
    <button ng-click="showHtml()"><i class="fa fa-eye" aria-hidden="true"></i> preview</button>
    <button ui-sref="trainings">back</button>
  </div>
</div>

<form>
  <div class="unigrid--row">
    <div class="brick brick--4">
      <div class="form-required form-group">
        <label for="training.trainer">Trainer</label>
        <input ng-model="training.trainer" type="text" name="training.trainer" id="training.trainer" class="form-control" required/>
      </div>
    </div>
    <div class="brick brick--4">
      <div class="form-required form-group">
        <label for="training.team">Team</label>
        <div class="select">
          <select ng-model="training.team" name="training.team" id="training.team" required>
            <option>Team 1</option>
            <option>3. Liga</option>
            <option>Junioren B</option>
            <option>1. Mannschaft</option>
            <option>YB Stadt FE-12</option>
          </select>
          <div class="select__arrow"></div>
        </div>
      </div>
    </div>
    <div class="brick brick--4">
      <div class="form-required form-group">
        <label for="training.date">Datum</label>
        <input type="text" ng-model="training.trainingDate" name="training.date" id="training.date" class="form-control" required/>
      </div>
    </div>
    <div class="brick brick--12">
      <div class="form-required form-group">
        <label>Trainingsinhalt</label>
        <tags-input ng-model="training.content" replace-spaces-with-dashes="false">
          <auto-complete source="loadTags($query)"></auto-complete>
        </tags-input>
      </div>
    </div>
  </div>
  <div class="unigrid--row">
    <div class="brick brick--24">
      <div class="form-group">
        <label for="training.bemerkungen">Bemerkungen</label>
        <textarea rows="3" class="form-control" id="training.bemerkungen" ng-model="training.bemerkungen"
                  ng-if="!showHtmlText"></textarea>
        <div ng-bind-html="convertToHtml(training.bemerkungen)" ng-show="showHtmlText" class="fake-input"></div>
      </div>
    </div>
  </div>


  <div class="unigrid--row training__exercise-search">
    <div class="brick brick--18 unigrid--col">

      <div class="brick brick--col--1">
        <tags-input ng-model="search" replace-spaces-with-dashes="false">
          <auto-complete source="loadTags($query)"></auto-complete>
        </tags-input>
      </div>

      <div class="brick brick--col--2 unigrid--row" ng-repeat="item in searchResult | searchFilter:search" ng-if="search.length>0">
        <div class="brick brick--4 first">
          <div class="radio">
            <input id="{{item.$id}}" type="radio" value="{{item.$id}}" name="exerciseId" ng-model="exercise.exerciseId" />
            <label for="{{item.$id}}">
              {{ item.name }}
            </label>
          </div>
        </div>
        <div class="brick brick--4">
          <a class="fancybox" href="{{item.graphic}}">
            <img class="training__exercise-image" data-ng-src="{{item.graphic}}" data-err-src="images/torschuss.png" />
          </a>
        </div>
        <div class="brick brick--10">
          <span class="tag-item" ng-repeat="tags in item.content">{{ tags.text }}</span>
        </div>
      </div>

    </div>
    <div class="brick brick--3">
      <div class="form-required form-group">
        <label for="exercise.lektionsteil" class="sr-only" style="display: none;">Lektionsteil</label>
        <div class="select">
          <select name="exercise.lektionsteil" id="exercise.lektionsteil" ng-model="exercise.lektionsteil" required>
            <option>Einstieg</option>
            <option>G 1</option>
            <option>G 2</option>
            <option>G 3</option>
            <option>G 4</option>
            <option>A 1</option>
            <option>A 2</option>
            <option>A 3</option>
            <option>A 4</option>
            <option>Ausklang</option>
          </select>
          <div class="select__arrow"></div>
        </div>
      </div>
      <div class="form-required form-group">
        <label for="exercise.dauer" class="sr-only" style="display: none;">Dauer</label>
        <input type="number" name="exercise.dauer" id="exercise.dauer" class="form-control" placeholder="Dauer" ng-model="exercise.dauer" />
      </div>
    </div>
    <div class="brick brick--3">
      <button type="button" class="btn-primary" style="width: 100%;" ng-click="addExercise()">Hinzuf√ºgen</button>
    </div>
  </div>

  <hr />
  <!-- overview: auto/scroll ?! -->
  <div class="training">

    <div class="unigrid--row training__header">
      <div class="brick brick--2">
        <strong>Lektionsteile</strong>
      </div>

      <div class="brick brick--7">
        <strong>Beschreibung</strong>
      </div>
      <div class="brick brick--6">
        <strong>Organisation</strong>
      </div>
      <div class="brick brick--7">
        <strong>Coaching</strong>
      </div>

      <div class="brick brick--2">
        <strong>Dauer</strong>
      </div>
    </div>

    <div class="unigrid--row training__exercise" ng-repeat="trainingExercise in training.exercises">
      <div class="brick brick--2">
        <strong>{{trainingExercise.lektionsteil}}</strong>
      </div>

      <div class="brick brick--7">
        <span ng-bind-html="convertToHtml(trainingExercise.description)"></span>
      </div>
      <div class="brick brick--6">
        <img class="training__exercise-image" data-ng-src="{{trainingExercise.graphic}}" />
      </div>
      <div class="brick brick--7">
        <span ng-bind-html="convertToHtml(trainingExercise.aufbau)"></span>
        <span ng-bind-html="convertToHtml(trainingExercise.coaching)"></span>
      </div>

      <div class="brick brick--2">
        <strong>{{trainingExercise.dauer}} (edit?)</strong>
      </div>
    </div>

  </div>


  <div class="unigrid--row">
    <div class="brick brick--3">
      <button type="submit" ng-click="saveTraining()">Speichern</button>
    </div>
  </div>
</form>
