{"version":3,"sources":["exercir.js"],"names":["phases","Map","id","name","topics","passspiel","ballmitnahme","ballkontakt","unterdruck","torschuss","dribbling","kopfball","1vs1","spielaufbau","abschluss","toreverhindern","ballerobern","umschalten","ausdauer","schnelligkeit","koordination","orientierung","File","this","fileData","ko","observable","file","binaryString","text","dataURL","arrayBuffer","base64String","fileTypes","onInvalidFileDrop","fileArray","observableArray","base64StringArray","subscribe","console","log","Variety","description","image","Topic","self","selectedTopicIds","selectedTopics","computed","utils","arrayMap","index","split","main","get","Phase","selectedPhasesIds","selectedPhases","Exercise","phase","topic","title","organisation","procedure","coaching","isExtended","varieties","hasVarieties","length","addVariety","push","ExercirViewModel","exercise","Array","from","values","keys","forEach","value","tpcs","map","key","Object","save","fileBindings","defaultOptions","wrapperClass","fileNameClass","noFileText","buttonGroupClass","buttonClass","clearButtonClass","buttonText","changeButtonText","clearButtonText","fileName","clearButton","onClear","options","clear","applyBindings"],"mappings":"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","file":"exercir.js","sourcesContent":["var phases = new Map([\n  [\"phase1\",{\"id\":\"phase1\",\"name\":\"Wir haben den Ball\"}],\n  [\"phase2\",{\"id\":\"phase2\",\"name\":\"Wir verlieren den Ball\"}],\n  [\"phase3\",{\"id\":\"phase3\",\"name\":\"Wir haben den Ball nicht\"}],\n  [\"phase4\",{\"id\":\"phase4\",\"name\":\"Wir erobern den Ball\"}]]);\n\nvar topics = new Map([\n\t[\"TE\", [\n\t\t\t{ \"passspiel\" : \"Passspiel\"},\n\t\t\t{ \"ballmitnahme\" : \"Ballmitnahme\"},\n\t\t\t{ \"ballkontakt\" : \"1. Ballkontakt\"},\n\t\t\t{ \"unterdruck\" : \"Unter Druck\"},\n\t\t\t{ \"torschuss\" : \"Torschuss, Abschluss\"},\n\t\t\t{ \"dribbling\" : \"Dribbling, Finte\"},\n\t\t\t{ \"kopfball\" : \"Kopfball\"}\n\t\t]],\n\t[\"TA\", [\n\t\t  { \"1vs1\" : \"1:1\"},\n\t\t\t{ \"spielaufbau\" : \"Spielaufbau\"},\n\t\t\t{ \"abschluss\" : \"Abschluss\"},\n\t\t\t{ \"toreverhindern\" : \"Tore verhindern\"},\n\t\t\t{ \"ballerobern\" : \"Ball erobern\"},\n\t\t\t{ \"umschalten\" : \"Umschalten\"}\n\t\t]],\n\t[\"KO\", [\n\t\t\t{ \"ausdauer\" : \"Ausdauer\"},\n\t\t\t{ \"schnelligkeit\" : \"Schnelligkeit\"},\n\t\t\t{ \"koordination\" : \"Koordination\"}\n\t\t]],\n\t[\"Kognitiv\", [\n\t\t\t{ \"orientierung\" : \"Orientierung, Entscheide\"}\n\t\t]],\n]);\n\nfunction File(){\n  var self = this;\n\n  self.fileData = ko.observable({\n    file: ko.observable(), // will be filled with a File object\n    // Read the files (all are optional, e.g: if you're certain that it is a text file, use only text:\n    binaryString: ko.observable(), // FileReader.readAsBinaryString(Blob|File) - The result property will contain the file/blob's data as a binary string. Every byte is represented by an integer in the range [0..255].\n    text: ko.observable(), // FileReader.readAsText(Blob|File, opt_encoding) - The result property will contain the file/blob's data as a text string. By default the string is decoded as 'UTF-8'. Use the optional encoding parameter can specify a different format.\n    dataURL: ko.observable(), // FileReader.readAsDataURL(Blob|File) - The result property will contain the file/blob's data encoded as a data URL.\n    arrayBuffer: ko.observable(), // FileReader.readAsArrayBuffer(Blob|File) - The result property will contain the file/blob's data as an ArrayBuffer object.\n\n    // a special observable (optional)\n    base64String: ko.observable(), // just the base64 string, without mime type or anything else\n\n    // a \"file types\" observable to denote acceptable file types (optional)\n    // accepts any string value that is valid for the `accept` attribute of a file input\n    // if provided, will override the `accept` attribute on the target file input\n    // if not provided, the value of the `accept` attribute will be used\n    fileTypes: ko.observable(),\n\n    onInvalidFileDrop: function(fileData) {\n      // do something with rejected file\n    },\n\n\n    // you can have observable arrays for each of the properties above, useful in multiple file upload selection (see Multiple file Uploads section below)\n    // in the format of xxxArray: ko.observableArray(),\n    /* e.g: */ fileArray: ko.observableArray(), base64StringArray: ko.observableArray(),\n  });\n\n  self.fileData().text.subscribe(function(text){\n    // do something\n  });\n\n  self.fileData().base64String.subscribe(function(base64String){\n    //sendToServer(base64String);\n    console.log(base64String);\n  });\n}\n\nfunction Variety(){\n  var self = this;\n\n  self.description = ko.observable('');\n  self.image = ko.observable();\n};\n\nfunction Topic(){\n  var self = this;\n\n  self.selectedTopicIds = ko.observableArray();\n  self.selectedTopics = ko.computed(function() {\n    return ko.utils.arrayMap(self.selectedTopicIds(),\n    function(id) {\n      var index = id.split(\"-\");\n      var main = index[0];\n      var topic = topics.get(main)[index[1]][index[2]];\n      return main +' > '+ topic;\n    });\n  });\n};\n\nfunction Phase(){\n  var self = this;\n\n  self.selectedPhasesIds = ko.observableArray();\n  self.selectedPhases = ko.computed(function() {\n    return ko.utils.arrayMap(self.selectedPhasesIds(),\n    function(id) {\n      return phases.get(id);\n    });\n  });\n};\n\nfunction Exercise(){\n  var self = this;\n\n  self.phase = new Phase();\n  self.topic = new Topic();\n\n  self.title = ko.observable();\n  self.organisation = ko.observable('');\n  self.procedure = ko.observable('');\n  self.coaching = ko.observable('');\n  self.image = new File();\n\n  self.isExtended = ko.observable(true);\n\n  self.varieties = ko.observableArray();\n  self.hasVarieties = ko.computed(function(){\n    return (self.varieties().length>0);\n  });\n  self.addVariety = function(){\n    self.varieties.push(new Variety());\n  };\n};\n\nfunction ExercirViewModel(){\n  var self = this;\n\n  self.exercise = new Exercise();\n\n  self.phases = Array.from(phases.values());\n  self.topics = ko.observableArray();\n  Array.from(topics.keys()).forEach(function(value){\n    var tpcs = Array.from(topics.get(value))\n                .map(function(topic){\n                  return { key: Object.keys(topic)[0],\n                           value: Object.values(topic)[0]};\n                });\n    self.topics.push({\n      main: value,\n      topics: tpcs});\n  });\n\n  self.save = function(){\n    console.log('save',self.exercise);\n  };\n};\n\nko.fileBindings.defaultOptions = {\n  wrapperClass: 'input-group',\n  fileNameClass: 'disabled form-control',\n  noFileText: 'No file chosen',\n  buttonGroupClass: 'input-group-append',\n  buttonClass: 'btn btn-secondary',\n  clearButtonClass: 'btn btn-warning',\n  buttonText: 'Choose File',\n  changeButtonText: 'Change',\n  clearButtonText: 'Clear',\n  fileName: true, // show the selected file name?\n  clearButton: true, // show clear button?\n  onClear: function(fileData, options) {\n      if (typeof fileData.clear === 'function') {\n          fileData.clear();\n      }\n  }\n};\n\n// change a default option\nko.fileBindings.defaultOptions.buttonText = 'Browse';\n\nko.applyBindings(new ExercirViewModel());\n"]}