{"version":3,"sources":["exercir.js"],"names":["phases","Map","id","name","topics","passspiel","ballmitnahme","ballkontakt","unterdruck","torschuss","dribbling","kopfball","1vs1","spielaufbau","abschluss","toreverhindern","ballerobern","umschalten","ausdauer","schnelligkeit","koordination","orientierung","entscheide","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","File","this","fileData","ko","observable","file","dataURL","base64String","subscribe","console","log","Variety","description","image","Topic","self","selectedTopicIds","observableArray","selectedTopics","computed","utils","arrayMap","index","split","main","get","Phase","selectedPhasesIds","selectedPhases","Exercise","uuid","phase","topic","title","organisation","procedure","coaching","isExtended","varieties","hasVarieties","length","addVariety","push","ExercirViewModel","exercise","Array","from","values","keys","forEach","value","tpcs","map","key","Object","save","toJSON","fileBindings","defaultOptions","wrapperClass","fileNameClass","noFileText","buttonGroupClass","buttonClass","clearButtonClass","buttonText","changeButtonText","clearButtonText","fileName","clearButton","onClear","options","clear","applyBindings"],"mappings":"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","file":"exercir.js","sourcesContent":["var phases = new Map([\n  [\"phase1\",{\"id\":\"phase1\",\"name\":\"Wir haben den Ball\"}],\n  [\"phase2\",{\"id\":\"phase2\",\"name\":\"Wir verlieren den Ball\"}],\n  [\"phase3\",{\"id\":\"phase3\",\"name\":\"Wir haben den Ball nicht\"}],\n  [\"phase4\",{\"id\":\"phase4\",\"name\":\"Wir erobern den Ball\"}]]);\n\nvar topics = new Map([\n\t[\"TE\", [\n\t\t\t{ \"passspiel\" : \"Passspiel\"},\n\t\t\t{ \"ballmitnahme\" : \"Ballmitnahme\"},\n\t\t\t{ \"ballkontakt\" : \"1. Ballkontakt\"},\n\t\t\t{ \"unterdruck\" : \"Unter Druck\"},\n\t\t\t{ \"torschuss\" : \"Torschuss\"},\n\t\t\t{ \"dribbling\" : \"Dribbling, Finte\"},\n\t\t\t{ \"kopfball\" : \"Kopfball\"}\n\t\t]],\n\t[\"TA\", [\n\t\t  { \"1vs1\" : \"1:1\"},\n\t\t\t{ \"spielaufbau\" : \"Spielaufbau\"},\n\t\t\t{ \"abschluss\" : \"Abschluss\"},\n\t\t\t{ \"toreverhindern\" : \"Tore verhindern\"},\n\t\t\t{ \"ballerobern\" : \"Ball erobern\"},\n\t\t\t{ \"umschalten\" : \"Umschalten\"}\n\t\t]],\n\t[\"KO\", [\n\t\t\t{ \"ausdauer\" : \"Ausdauer\"},\n\t\t\t{ \"schnelligkeit\" : \"Schnelligkeit\"},\n\t\t\t{ \"koordination\" : \"Koordination\"},\n\t\t\t{ \"orientierung\" : \"Orientierung\"},\n    \t{ \"entscheide\" : \"Entscheide\"}\n\t\t]],\n]);\n\n// utils\nfunction uuidv4() {\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n  )\n};\n\nfunction File(){\n  var self = this;\n\n  self.fileData = ko.observable({\n    file: ko.observable(), // will be filled with a File object\n    dataURL: ko.observable(), // FileReader.readAsDataURL(Blob|File) - The result property will contain the file/blob's data encoded as a data URL.\n    base64String: ko.observable() // just the base64 string, without mime type or anything else\n  });\n\n  self.fileData().base64String.subscribe(function(base64String){\n    //sendToServer(base64String);\n    console.log('base64String');\n  });\n}\n\nfunction Variety(){\n  var self = this;\n\n  self.description = ko.observable('');\n  self.image = new File();\n};\n\nfunction Topic(){\n  var self = this;\n\n  self.selectedTopicIds = ko.observableArray();\n  self.selectedTopics = ko.computed(function() {\n    return ko.utils.arrayMap(self.selectedTopicIds(),\n    function(id) {\n      var index = id.split(\"-\");\n      var main = index[0];\n      var topic = topics.get(main)[index[1]][index[2]];\n      return main +' > '+ topic;\n    });\n  });\n};\n\nfunction Phase(){\n  var self = this;\n\n  self.selectedPhasesIds = ko.observableArray();\n  self.selectedPhases = ko.computed(function() {\n    return ko.utils.arrayMap(self.selectedPhasesIds(),\n    function(id) {\n      return phases.get(id);\n    });\n  });\n};\n\nfunction Exercise(uuid = uuidv4()){\n  var self = this;\n\n  self.uuid = uuid;\n\n  self.phase = new Phase();\n  self.topic = new Topic();\n\n  self.title = ko.observable();\n  self.organisation = ko.observable('');\n  self.procedure = ko.observable('');\n  self.coaching = ko.observable('');\n  self.image = new File();\n\n  self.isExtended = ko.observable(true);\n\n  self.varieties = ko.observableArray();\n  self.hasVarieties = ko.computed(function(){\n    return (self.varieties().length>0);\n  });\n  self.addVariety = function(){\n    self.varieties.push(new Variety());\n  };\n};\n\nfunction ExercirViewModel(){\n  var self = this;\n\n  self.exercise = new Exercise();\n\n  self.phases = Array.from(phases.values());\n  self.topics = ko.observableArray();\n  Array.from(topics.keys()).forEach(function(value){\n    var tpcs = Array.from(topics.get(value))\n                .map(function(topic){\n                  return { key: Object.keys(topic)[0],\n                           value: Object.values(topic)[0]};\n                });\n    self.topics.push({\n      main: value,\n      topics: tpcs});\n  });\n\n  self.save = function(){\n    console.log('save',ko.toJSON(self.exercise));\n  };\n};\n\nko.fileBindings.defaultOptions = {\n  wrapperClass: 'input-group',\n  fileNameClass: 'disabled form-control',\n  noFileText: 'No file chosen',\n  buttonGroupClass: 'input-group-append',\n  buttonClass: 'btn btn-secondary',\n  clearButtonClass: 'btn btn-warning',\n  buttonText: 'Choose File',\n  changeButtonText: 'Change',\n  clearButtonText: 'Clear',\n  fileName: true, // show the selected file name?\n  clearButton: true, // show clear button?\n  onClear: function(fileData, options) {\n      if (typeof fileData.clear === 'function') {\n          fileData.clear();\n      }\n  }\n};\n\n// change a default option\nko.fileBindings.defaultOptions.buttonText = 'Browse';\n\nko.applyBindings(new ExercirViewModel());\n"]}