var phases=new Map([["phase1",{id:"phase1",name:"Wir haben den Ball"}],["phase2",{id:"phase2",name:"Wir verlieren den Ball"}],["phase3",{id:"phase3",name:"Wir haben den Ball nicht"}],["phase4",{id:"phase4",name:"Wir erobern den Ball"}]]),topics=new Map([["TE",[{passspiel:"Passspiel"},{ballmitnahme:"Ballmitnahme"},{ballkontakt:"1. Ballkontakt"},{unterdruck:"Unter Druck"},{torschuss:"Torschuss"},{dribbling:"Dribbling, Finte"},{kopfball:"Kopfball"}]],["TA",[{"1vs1":"1:1"},{spielaufbau:"Spielaufbau"},{abschluss:"Abschluss"},{toreverhindern:"Tore verhindern"},{ballerobern:"Ball erobern"},{umschalten:"Umschalten"}]],["KO",[{ausdauer:"Ausdauer"},{schnelligkeit:"Schnelligkeit"},{koordination:"Koordination"},{orientierung:"Orientierung"},{entscheide:"Entscheide"}]]]);function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function File(){this.fileData=ko.observable({file:ko.observable(),dataURL:ko.observable(),base64String:ko.observable()}),this.fileData().base64String.subscribe((function(e){console.log("base64String")}))}function Variety(){this.description=ko.observable(""),this.image=new File}function Topic(){var e=this;e.selectedTopicIds=ko.observableArray(),e.selectedTopics=ko.computed((function(){return ko.utils.arrayMap(e.selectedTopicIds(),(function(e){var i=e.split("-"),a=i[0];return a+" > "+topics.get(a)[i[1]][i[2]]}))}))}function Phase(){var e=this;e.selectedPhasesIds=ko.observableArray(),e.selectedPhases=ko.computed((function(){return ko.utils.arrayMap(e.selectedPhasesIds(),(function(e){return phases.get(e)}))}))}function Exercise(e=uuidv4()){var i=this;i.uuid=e,i.phase=new Phase,i.topic=new Topic,i.title=ko.observable(),i.organisation=ko.observable(""),i.procedure=ko.observable(""),i.coaching=ko.observable(""),i.image=new File,i.isExtended=ko.observable(!0),i.varieties=ko.observableArray(),i.hasVarieties=ko.computed((function(){return i.varieties().length>0})),i.addVariety=function(){i.varieties.push(new Variety)}}function ExercirViewModel(){var e=this;e.exercise=new Exercise,e.phases=Array.from(phases.values()),e.topics=ko.observableArray(),Array.from(topics.keys()).forEach((function(i){var a=Array.from(topics.get(i)).map((function(e){return{key:Object.keys(e)[0],value:Object.values(e)[0]}}));e.topics.push({main:i,topics:a})})),e.save=function(){var i={uuid:e.exercise.uuid,title:e.exercise.title,organisation:e.exercise.organisation,procedure:e.exercise.procedure,coaching:e.exercise.coaching,image:e.exercise.image,phase:e.exercise.phase.selectedPhasesIds,topic:e.exercise.topic.selectedTopicIds,varieties:[]};console.log("save",ko.toJSON(i))}}ko.fileBindings.defaultOptions={wrapperClass:"input-group",fileNameClass:"disabled form-control",noFileText:"No file chosen",buttonGroupClass:"input-group-append",buttonClass:"btn btn-secondary",clearButtonClass:"btn btn-warning",buttonText:"Choose File",changeButtonText:"Change",clearButtonText:"Clear",fileName:!0,clearButton:!0,onClear:function(e,i){"function"==typeof e.clear&&e.clear()}},ko.fileBindings.defaultOptions.buttonText="Browse",ko.applyBindings(new ExercirViewModel);
//# sourceMappingURL=exercir.js.map